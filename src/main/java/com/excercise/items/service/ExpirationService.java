package com.excercise.items.service;import com.excercise.items.dao.ItemDao;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.context.annotation.Configuration;import org.springframework.core.env.Environment;import org.springframework.scheduling.annotation.EnableScheduling;import org.springframework.scheduling.annotation.Scheduled;@Configuration@EnableSchedulingpublic class ExpirationService {  @Autowired  private Environment env;  @Autowired  private ItemDao itemDao;  private final int DEFAULT_EXPIRATION_PERIOD = 24 * 3600 * 1000; // 1 den  @Scheduled(fixedRate = 10000)  public void removeExpiredItems() {    int itemExpirationPeriod;    try {      itemExpirationPeriod = env.getProperty("itemExpiration", int.class);    } catch (NullPointerException e) {      System.out.println(e);      itemExpirationPeriod = DEFAULT_EXPIRATION_PERIOD;    }    long removeBeforeTS = System.currentTimeMillis() - itemExpirationPeriod;    itemDao.deleteBeforeTimestamp(removeBeforeTS);  }}